	MOVE 40000, R7
	CALL globalne
	CALL F_main
	HALT

DIV
	PUSH R0
	PUSH R1
	PUSH R2
	PUSH R3
	PUSH R4
	PUSH R5

	LOAD R1, (R7+20)
	LOAD R2, (R7+1C)
	MOVE %D 0, R3
	MOVE %D 0, R4
	CMP R2, 0
	MOVE %D 0, R6
	JP_Z D_KRAJ
	JP_SGE D_SKOK1
	SUB R4, R2, R2
	ADD R3, 1, R3
D_SKOK1
	CMP R1, 0
	JP_SGE D_LOOP
	SUB R4, R1, R1
	ADD R3, 1, R3
D_LOOP
	SUB R1, R2, R1
	ADD R6, 1, R6
	CMP R1, 0
	JP_SGE D_LOOP
	SUB R6, 1, R6
	CMP R3, 1
	JP_EQ D_NEG
	JP D_KRAJ
D_NEG
	SUB R4, R6, R6
D_KRAJ
	POP R5
	POP R4
	POP R3
	POP R2
	POP R1
	POP R0
	RET

MUL
	PUSH R0
	PUSH R1
	PUSH R2
	PUSH R3
	PUSH R4
	PUSH R5

	LOAD R1, (R7+20)
	LOAD R2, (R7+1C)
	MOVE %D 0, R3
	MOVE %D 0, R4
	MOVE %D 0, R5
	CMP R2, 0
	JP_SGE M_SKOK1
	SUB R4, R2, R2
	ADD R3, 1, R3
M_SKOK1
	CMP R1, 0
	JP_SGE M_LOOP
	SUB R4, R1, R1
	ADD R3, 1, R3
M_LOOP
	ADD R5, R1, R5
	SUB R2, 1, R2
	CMP R2, 0
	JP_SGT M_LOOP
	CMP R3, 1
	JP_EQ M_NEG
	JP M_KRAJ
M_NEG
	SUB R4, R5, R5
M_KRAJ
	MOVE R5, R6
	POP R5
	POP R4
	POP R3
	POP R2
	POP R1
	POP R0
	RET

MOD
	PUSH R0
	PUSH R1
	PUSH R2
	PUSH R3
	PUSH R4
	PUSH R5

	LOAD R1, (R7+20)
	LOAD R2, (R7+1C)
	MOVE %D 0, R3
	MOVE %D 0, R4
	CMP R2, 0
	MOVE %D 0, R6
	JP_Z O_KRAJ
	JP_SGE O_SKOK1
	SUB R4, R2, R2
	ADD R3, 1, R3
O_SKOK1
	CMP R1, 0
	JP_SGE O_LOOP
	SUB R4, R1, R1
	ADD R3, 1, R3
O_LOOP
	SUB R1, R2, R1
	CMP R1, 0
	JP_SGE O_LOOP
	MOVE R1, R6
	ADD R6, R2, R6
	CMP R3, 1
	JP_EQ O_NEG
	JP O_KRAJ
O_NEG
	SUB R4, R6, R6
O_KRAJ
	POP R5
	POP R4
	POP R3
	POP R2
	POP R1
	POP R0
	RET
globalne
	RET
F_f
	MOVE %D 123, R6
	MOVE R6, R5
	PUSH R5
	MOVE %D 3, R6
	POP R5
	SHL R6, 2, R6
	LOAD R3, (R7+04)
	SUB R3, R6, R6
	STORE R5, (R6)
	RET
F_main
	SUB R7, 4, R7
	SUB R7, 4, R7
	SUB R7, 4, R7
	SUB R7, 4, R7
	SUB R7, 4, R7
	MOVE %D 16, R6
	ADD R6, R7, R6
	PUSH R6
	CALL F_f
	ADD R7, 04, R7
	MOVE %D 3, R6
	SHL R6, 2, R6
	MOVE %D 16, R5
	SUB R5, R6, R6
	ADD R6, R7, R6
	LOAD R6, (R6)
	ADD R7, 014, R7
	RET
